function exploitListViewModel() {
    var self = this;
    self.exploits = ko.observableArray();
    
    self.deleteExploit = function (exploit, event) {
        if (!confirm("Are you sure?")) {
            event.stopImmediatePropagation();
            return false;
        }

        $.ajax({
            url: '/exploit/' + exploit.id,
            type: 'delete',
            headers: {
                'X-CSRF-Token': csrf_token
            },
            contentType: 'application/json',
        }).done(function (reply) {
            // The deed be done mon
        });

        self.exploits.remove(exploit);
    };
};

$(function() {
    $.getJSON('/exploits', function (exploits) {
        var view = new exploitListViewModel();
        view.exploits(exploits);
        ko.applyBindings(view);
    });
});

